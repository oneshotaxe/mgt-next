import{d as $,j as B,D as n,k as E,o as k,c as C,l as M,t as U,f as e,a,w as d,P as D,r as m,i as N}from"./index.7c99f015.js";import{_ as S,b as T}from"./dayjs.b55bd095.js";import{_ as j}from"./ServerAutocomplete.vue_vue_type_script_setup_true_lang.973258c2.js";import{e as y}from"./vuelidate.593c808c.js";import{a as G}from"./composable.50c70c97.js";import"./get.19b8b80d.js";const J=$({__name:"BusEditor",setup(P){const{t:l}=B(),i=N(),r=n(()=>+i.params.id),u=n(()=>+i.params.columnId),g=n(()=>r.value?l("buses.editorTitle"):l("buses.creatorTitle")),{loading:c,model:s,v$:p,actions:b,fetch:V,save:f}=G(u,r),x=_=>T.gates.get({..._,columnId:u.value});return E(()=>{r.value&&V()}),(_,o)=>{const I=m("v-text-field"),v=m("v-col"),w=m("v-row");return k(),C("form",{onSubmit:o[3]||(o[3]=D((...t)=>e(f)&&e(f)(...t),["prevent"]))},[M("h1",null,U(e(g)),1),a(w,{class:"pt-8"},{default:d(()=>[a(v,{cols:"12",md:"6",lg:"4"},{default:d(()=>[a(I,{modelValue:e(s).num,"onUpdate:modelValue":o[0]||(o[0]=t=>e(s).num=t),disabled:e(c),error:e(p).num.$error,"error-messages":e(y)(e(p).num.$errors),label:e(l)("fields.num")},null,8,["modelValue","disabled","error","error-messages","label"])]),_:1}),a(v,{cols:"12",md:"6",lg:"4"},{default:d(()=>[a(e(j),{modelValue:e(s).gate,"onUpdate:modelValue":o[1]||(o[1]=t=>e(s).gate=t),"model-value-id":e(s).gateId,"onUpdate:model-value-id":o[2]||(o[2]=t=>e(s).gateId=t),fetch:x,disabled:e(c),label:e(l)("fields.gate"),"item-title":"num"},null,8,["modelValue","model-value-id","disabled","label"])]),_:1})]),_:1}),a(e(S),{actions:e(b),class:"pt-8"},null,8,["actions"])],32)}}});export{J as default};
