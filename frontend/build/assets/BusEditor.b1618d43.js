import{d as E,j as $,E as n,k as B,o as k,c as C,l as M,t as U,f as e,a,w as d,P as N,r as m,i as S}from"./index.74b4fa8a.js";import{_ as T,b as j}from"./dayjs.12ea7c3d.js";import{_ as y}from"./ServerAutocomplete.vue_vue_type_script_setup_true_lang.3328837f.js";import{e as D}from"./vuelidate.593c808c.js";import{a as G}from"./composable.3bf4ab2e.js";import"./get.e24e3990.js";const J=E({__name:"BusEditor",setup(P){const{t:l}=$(),i=S(),r=n(()=>+i.params.id),u=n(()=>+i.params.columnId),g=n(()=>r.value?l("buses.editorTitle"):l("buses.creatorTitle")),{loading:c,model:s,v$:p,actions:b,fetch:V,save:f}=G(u,r),x=_=>j.gates.get({..._,columnId:u.value});return B(()=>{r.value&&V()}),(_,o)=>{const I=m("v-text-field"),v=m("v-col"),w=m("v-row");return k(),C("form",{onSubmit:o[3]||(o[3]=N((...t)=>e(f)&&e(f)(...t),["prevent"]))},[M("h1",null,U(e(g)),1),a(w,{class:"pt-8"},{default:d(()=>[a(v,{cols:"12",md:"6",lg:"4"},{default:d(()=>[a(I,{modelValue:e(s).num,"onUpdate:modelValue":o[0]||(o[0]=t=>e(s).num=t),disabled:e(c),error:e(p).num.$error,"error-messages":e(D)(e(p).num.$errors),label:e(l)("fields.num")},null,8,["modelValue","disabled","error","error-messages","label"])]),_:1}),a(v,{cols:"12",md:"6",lg:"4"},{default:d(()=>[a(e(y),{modelValue:e(s).gate,"onUpdate:modelValue":o[1]||(o[1]=t=>e(s).gate=t),"model-value-id":e(s).gateId,"onUpdate:model-value-id":o[2]||(o[2]=t=>e(s).gateId=t),fetch:x,disabled:e(c),label:e(l)("fields.gate"),"item-title":"num"},null,8,["modelValue","model-value-id","disabled","label"])]),_:1})]),_:1}),a(e(T),{actions:e(b),class:"pt-8"},null,8,["actions"])],32)}}});export{J as default};
