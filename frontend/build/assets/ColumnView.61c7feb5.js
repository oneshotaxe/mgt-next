import{d as L,j as k,M as N,E as O,k as z,o as I,c as R,l as w,t as V,f as u,a,w as n,r as _,R as m,N as r,b as l,i as j,L as F}from"./index.ea25dc33.js";import{_ as J,a as p,b as P,F as f,c as Y,d as $,e as U}from"./DialogMonth.vue_vue_type_script_setup_true_lang.2590dfaa.js";import{_ as G,b as d}from"./dayjs.ab3c5591.js";import{_ as q}from"./DataBlock.vue_vue_type_script_setup_true_lang.f5cab9d6.js";import{a as H}from"./composable.2235121b.js";import"./get.b0a8469e.js";const K=w("h2",null,"\u0414\u0430\u043D\u043D\u044B\u0435",-1),Q=w("h2",null,"\u0412\u044B\u0433\u0440\u0443\u0437\u043A\u0438",-1),W=w("h2",null,"\u0420\u0435\u0437\u0435\u0440\u0432\u043D\u043E\u0435 \u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435",-1),tu=L({__name:"ColumnView",setup(X){const{t:v}=k(),i=N(),g=j(),t=O(()=>+g.params.id),{loading:B,model:y,fields:b,actions:h,fetch:x}=H(t),A=()=>{i.open({width:450,component:J,onApply:async e=>{if(!e||e.length===0)return;const s=e[0];return d.columns._id.upload(t.value,JSON.parse(await s.text()))}})},D=async()=>{i.open({width:450,component:p,onApply:async e=>{const s=await d.columns._id.journal(t.value,e),o=await P(s);await f.saveAs(new Blob([o]),"magazine.xlsx")}})},M=async()=>{i.open({width:450,component:p,onApply:async e=>{const s=await d.columns._id.journal(t.value,e),o=await Y(s);await f.saveAs(new Blob([o]),"magazine mini.xlsx")}})},C=async()=>{i.open({width:450,component:p,onApply:async e=>{const s=await d.columns._id.journal(t.value,e),o=await $(s);await f.saveAs(new Blob([o]),"magazine new.xlsx")}})},T=async()=>{i.open({width:450,component:p,onApply:async e=>{const s=await d.columns._id.agreement(t.value),o=await F.get("/agree.xlsx",{responseType:"arraybuffer"}),c=await U(o.data,s,e);await f.saveAs(new Blob([c]),"agreement.xlsx")}})};return z(()=>{t.value&&x()}),(e,s)=>{const o=_("v-list-item"),c=_("v-list"),E=_("v-col"),S=_("v-row");return I(),R("div",null,[w("h1",null,V(u(v)("columns.viewTitle")),1),a(u(q),{fields:u(b),model:u(y),loading:u(B)},null,8,["fields","model","loading"]),a(u(G),{actions:u(h),class:"pt-8"},null,8,["actions"]),a(S,{class:"pt-8"},{default:n(()=>[a(E,{cols:"12",md:"4"},{default:n(()=>[K,a(c,null,{default:n(()=>[a(o,{to:u(m)[u(r).EMPLOYEE_DRIVER_LIST](u(t))},{default:n(()=>[l("\u0412\u043E\u0434\u0438\u0442\u0435\u043B\u0438")]),_:1},8,["to"]),a(o,{to:u(m)[u(r).EMPLOYEE_BUS_LIST](u(t))},{default:n(()=>[l("\u0410\u0432\u0442\u043E\u0431\u0443\u0441\u044B")]),_:1},8,["to"]),a(o,{to:u(m)[u(r).EMPLOYEE_ROUTE_LIST](u(t))},{default:n(()=>[l("\u041C\u0430\u0440\u0448\u0440\u0443\u0442\u044B")]),_:1},8,["to"]),a(o,{to:u(m)[u(r).EMPLOYEE_GATE_LIST](u(t))},{default:n(()=>[l("\u0412\u044B\u0445\u043E\u0434\u044B")]),_:1},8,["to"])]),_:1})]),_:1}),a(E,{cols:"12",md:"4"},{default:n(()=>[Q,a(c,null,{default:n(()=>[a(o,{onClick:D},{default:n(()=>[l("\u0416\u0443\u0440\u043D\u0430\u043B")]),_:1}),a(o,{onClick:M},{default:n(()=>[l("\u0416\u0443\u0440\u043D\u0430\u043B \u043C\u0438\u043D\u0438")]),_:1}),a(o,{onClick:C},{default:n(()=>[l("\u041D\u043E\u0432\u044B\u0439 \u0436\u0443\u0440\u043D\u0430\u043B")]),_:1}),a(o,{onClick:T},{default:n(()=>[l("\u0421\u043E\u0433\u043B\u0430\u0441\u0438\u0435")]),_:1})]),_:1})]),_:1}),a(E,{cols:"12",md:"4"},{default:n(()=>[W,a(c,null,{default:n(()=>[a(o,{onClick:A},{default:n(()=>[l("\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C")]),_:1})]),_:1})]),_:1})]),_:1})])}}});export{tu as default};
