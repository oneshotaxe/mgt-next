import{d as E,j as B,E as m,k as M,o as k,c as C,l as U,t as N,f as e,a as l,w as d,P as S,r as u,i as T}from"./index.a8fbf8fe.js";import{_ as j,b as y}from"./dayjs.7d66ce39.js";import{_ as D}from"./ServerAutocomplete.vue_vue_type_script_setup_true_lang.42f03b16.js";import{e as G}from"./vuelidate.593c808c.js";import{a as P}from"./composable.7c23af08.js";import"./get.dad51169.js";const K=E({__name:"BusEditor",setup(R){const{t:r}=B(),i=T(),n=m(()=>+i.params.id),p=m(()=>+i.params.columnId),b=m(()=>n.value?r("buses.editorTitle"):r("buses.creatorTitle")),{loading:c,model:s,v$:f,actions:g,fetch:V,save:_}=P(p,n),$=a=>y.gates.get({...a,columnId:p.value}),x=a=>{var o;return{...a,num:`${(o=a.route)==null?void 0:o.num} / ${a.num}`}};return M(()=>{n.value&&V()}),(a,o)=>{const I=u("v-text-field"),v=u("v-col"),w=u("v-row");return k(),C("form",{onSubmit:o[3]||(o[3]=S((...t)=>e(_)&&e(_)(...t),["prevent"]))},[U("h1",null,N(e(b)),1),l(w,{class:"pt-8"},{default:d(()=>[l(v,{cols:"12",md:"6",lg:"4"},{default:d(()=>[l(I,{modelValue:e(s).num,"onUpdate:modelValue":o[0]||(o[0]=t=>e(s).num=t),disabled:e(c),error:e(f).num.$error,"error-messages":e(G)(e(f).num.$errors),label:e(r)("fields.num")},null,8,["modelValue","disabled","error","error-messages","label"])]),_:1}),l(v,{cols:"12",md:"6",lg:"4"},{default:d(()=>[l(e(D),{modelValue:e(s).gate,"onUpdate:modelValue":o[1]||(o[1]=t=>e(s).gate=t),"model-value-id":e(s).gateId,"onUpdate:model-value-id":o[2]||(o[2]=t=>e(s).gateId=t),fetch:$,mapper:x,disabled:e(c),label:e(r)("fields.gate"),"item-title":"num"},null,8,["modelValue","model-value-id","disabled","label"])]),_:1})]),_:1}),l(e(j),{actions:e(g),class:"pt-8"},null,8,["actions"])],32)}}});export{K as default};
